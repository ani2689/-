### 개요

간단한 상품 구매 페이지가 있다. 프론트(http://front-shop.com)가 백(http://back-shop.com)으로 브라우저를 거쳐 상품 등록 요청을 발송했다. 

그러나 예상과 다르게 에러가 발생한다. 바로 cors 에러.

### SOP & CORS

CORS를 이해하려면 SOP의 개념도 같이 알아야 한다. 

SOP는 `Same-Origin Policy`의 약자, CORS는 `Cross-Origin Resource Sharing`의 약자이다.

공통적으로 등장하는 단어인 Origin에 대해 알아보자. Origin은 프로토콜과 호스트, 포트를 묶어 말하는 단어로 쉽게말해서 `http://front-shop.com:80`을 말한다.

origin이 같을 때, 우리는 동일한 출처라고 말할 수 있다.

그러니까, 프론트와 백은 호스트가 달라 동일한 출처라고 말할 수 없다.

여기서 다시 SOP와 CORS의 뜻을 생각해보자.

SOP는 `Same-Origin Policy`, 같은 출처 정책. CORS는 `Cross-Origin Resource Sharing`, 다른 출처 자원 공유이다. 즉 같은 출처끼리만 요청을 보낼 수 있게 하는 것이 SOP, 다른 출처라도 요청을 보낼 수 있게 하는 것이 CORS라고 할 수 있다.

두 정책 모두 브라우저의 정책이며 에러를 발생 시키는 것 또한 브라우저이다. 

### 다시보기

개요에서 프론트와 백이 통신 시 CORS 에러가 발생했다. 다른 호스트의 접근을 막는 정책인 SOP 에러가 발생하지 않고 CORS 에러가 발생한 이유는 무엇일까?

브라우저의 입장에서 보면 간단히 답을 찾을 수 있다. 다른 출처의 접근을 허용하는 CORS 설정을 하지 않아서 보낼 수 없는 것이다.

### 백엔드 개발자의 입장에서...

백엔드 개발자의 입장에서 보면 굳이 알아야지 싶다. 브라우저를 거치는 과정을 거의 겪지 않는데 왜 알아야 하지?

CORS 에러는 보통 프론트가 많이 겪는다. 그래서 프론트는 CORS 응답 헤더를 설정해야 한다. 그러나! 이 응답 헤더는 서버가 해주어야 한다. 결국은 꼬리에 꼬리를 물어 백도 CORS를 알아야 한다.